#ifndef __ZF_DRIVER_FILE_BUFFER_HPP__
#define __ZF_DRIVER_FILE_BUFFER_HPP__

#include "zf_common_typedef.hpp"

class zf_driver_file_buffer
{
private:
    const char* m_path;
    int         m_fd;

    zf_driver_file_buffer(const zf_driver_file_buffer&) = delete;
    zf_driver_file_buffer& operator=(const zf_driver_file_buffer&) = delete;

public:
//-------------------------------------------------------------------------------------------------------------------
// 函数简介 构造函数
// 参数说明 path  文件路径
// 参数说明 flags 文件打开标志位
// 返回参数 无
// 使用示例 zf_driver_file_buffer file_obj("/dev/data", O_RDWR);
// 备注信息 写/读写模式自动创建文件并清空内容，读模式仅打开不创建
//-------------------------------------------------------------------------------------------------------------------
    zf_driver_file_buffer(const char* path, int flags);

//-------------------------------------------------------------------------------------------------------------------
// 函数简介 析构函数
// 参数说明 无
// 返回参数 无
// 使用示例 自动调用，无需手动调用
// 备注信息 自动关闭文件句柄，防止句柄资源泄露
//-------------------------------------------------------------------------------------------------------------------
    ~zf_driver_file_buffer();

//-------------------------------------------------------------------------------------------------------------------
// 函数简介 重新设置文件路径并打开文件
// 参数说明 path  文件路径
// 参数说明 flags 文件打开标志位
// 返回参数 无
// 使用示例 file_obj.set_path("/dev/new_data", O_WRONLY);
// 备注信息 先关闭原文件句柄，再重新打开新路径文件
//-------------------------------------------------------------------------------------------------------------------
    void  set_path(const char* path, int flags);

//-------------------------------------------------------------------------------------------------------------------
// 函数简介 从文件读取指定长度数据
// 参数说明 buf  数据接收缓冲区指针
// 参数说明 len  需要读取的数据长度
// 返回参数 int8 0-读取成功  -1-读取失败
// 使用示例 file_obj.read_buff(data_buf, sizeof(data_buf));
// 备注信息 必须读取满指定长度才算成功，否则判定为失败
//-------------------------------------------------------------------------------------------------------------------
    int8  read_buff(uint8 *buf, int32 len);

//-------------------------------------------------------------------------------------------------------------------
// 函数简介 向文件写入指定长度数据
// 参数说明 buf  待写入数据缓冲区指针
// 参数说明 len  需要写入的数据长度
// 返回参数 int8 0-写入成功  -1-写入失败
// 使用示例 file_obj.write_buff(data_buf, sizeof(data_buf));
// 备注信息 必须写入满指定长度才算成功，否则判定为失败
//-------------------------------------------------------------------------------------------------------------------
    int8  write_buff(uint8 *buf, int32 len);
};

#endif